!function e(t,n,i){function o(s,c){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n?n:e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e){(function(t){!function(e,t){var n=this;"function"==typeof define&&define.amd?define(e,function(){return n[e]=t()}):window[e]=t()}("happy",function(){var n=e("./create-iframe"),i=e("./utils").bind,o=e("./utils").onElement,r=function(e){var n=this;this.config=e,this.request=window.XMLHttpRequest?new XMLHttpRequest:new t.ActiveXObject("MSXML2.XMLHTTP.3.0"),this.request.onreadystatechange=function(){4===n.request.readyState&&(console.log("Hello, i am ads and here i am"),n.onResponse.call(n,JSON.parse(n.request.responseText)))}};return r.prototype={onResponse:function(e){var t,r,s,c,a,f,d;for(t in e.ADTECH_MultiAd){if(s=e.ADTECH_MultiAd[t],c=s.Ad.AdCode,-1===c.indexOf(this.config.emptySelector)){d=null;for(r in this.config.placements)if(this.config.placements[r].id==parseInt(s.PlacementId,10)){d=this.config.placements[r],console.log(d,this.config.placements[d],parseInt(s.PlacementId,10));break}d&&(d.selector||(d.selector="#ad-"+d.name),a=new n(d.id,s.Ad.AdCode),o(d.selector,i(a.renderTo,a),function(){console.log("No container found")}))}f=null}},load:function(e){var t,n=[];for(t in this.config.placements)("undefined"==typeof e||e.length&&-1!==e.indexOf(this.config.placements[t].name))&&n.push(this.config.placements[t].id);console.log("Where are you ads?",n),this.request.open("GET",(this.config.proxy||"..")+"/proxy.php?placements="+n.join(","),!0),this.request.send()}},r})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./create-iframe":2,"./utils":3}],2:[function(e,t){var n=e("./utils").on,i=e("./utils").bind,o=e("./utils").attr,r=e("./utils").nextTick,s=function(e,t){var r="";this.id=e,r+='<!doctype *><html><head><style>body { margin:0; )</style></head><body><div id="ad">',r+="<script>",r+=t,r+="</script>",r+="</div></body></html>",this.iframe=document.createElement("iframe"),o(this.iframe,{id:e,scrolling:"no",frameborder:0}),"srcdoc"in this.iframe&&(this.iframe.setAttribute("srcdoc",r),o(this.iframe,{srcdoc:r})),"srcdoc"in this.iframe||(this.iframe.contentDocument.open(),this.iframe.contentDocument.write(r),setTimeout(i(function(){this.iframe.contentDocument.close()},this),100),console.log("srcdoc missing, writing old school")),n(this.iframe,"load",i(this.onLoad,this)),n(this.iframe,"load",i(this.resize,this))};s.prototype.renderTo=function(e){r(i(function(){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(this.iframe)},this))},s.prototype.container=function(){return this.iframe},s.prototype.remove=function(){console.log("Removing: #"+this.id),this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe)},s.prototype.onLoad=function(){var e=this.iframe.contentDocument;console.log("Loaded: #"+this.id),e.querySelector('[src*="blank_pix_house.gif"]')&&this.remove()},s.prototype.resize=function(){var e=this.iframe.contentDocument;if(e){var t=e.documentElement,n=t.scrollHeight,i=t.scrollWidth;console.log("Resize: #"+this.id+" width:"+i+"px height:"+n+"px"),console.count("resize"),0===n||0===i?this.remove():o(this.iframe,{width:i,height:n})}else this.remove()},t.exports=s},{"./utils":3}],3:[function(e,t){var n=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},i=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},o=function(e,t){for(var n in t)e.setAttribute(n,t[n])},r=function(){if(window.Promise){var e=Promise.resolve();return function(t){e.then(t)}}return window.setImmidiate?function(e){setImmidiate(e)}:function(e){setTimeout(e,0)}}(),s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},c=function(e,t,n){var i=document.querySelector(e);i?t(i):"complete"!==document.readyState?window.setTimeout(function(){c(e,t,n)},10):"function"==typeof n&&n()};t.exports={bind:i,attr:o,on:n,onElement:c,nextTick:r,raf:s}},{}]},{},[1]);