!function e(n,t,o){function i(s,c){if(!t[s]){if(!n[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var f=t[s]={exports:{}};n[s][0].call(f.exports,function(e){var t=n[s][1][e];return i(t?t:e)},f,f.exports,e,n,t,o)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e){var n=e("./ad-loader");!function(e){var t;e.ads=e.ads||{placements:[]},e.ads.adtech&&e.ads.placements.length&&(t=new n({adtech:e.ads.adtech,placements:e.ads.placements}),t.load()),e.ads.placements={push:function(o){t||(t=new n({adtech:e.ads.adtech})),t.load(o)}}}(window)},{"./ad-loader":3}],2:[function(e){!function(e,n){var t=this;"function"==typeof define&&define.amd?define(e,function(){return t[e]=n()}):window[e]=n()}("happy",function(){var n=e("./ad-loader");return n})},{"./ad-loader":3}],3:[function(e,n){(function(t){var o=e("./create-iframe"),i=e("./request"),r=e("./utils"),s=r.bind,c=r.onElement,a=r.extend,d=function(e){this.config=a({adtech:{},placements:[]},e)};a(d.prototype,{getRequest:function(){var e,n=this;return e=window.XMLHttpRequest?new XMLHttpRequest:new t.ActiveXObject("MSXML2.XMLHTTP.3.0"),e.onreadystatechange=function(){4===e.readyState&&(console.log("Hello, i am ads and here i am"),n.onResponse.call(n,JSON.parse(e.responseText)))},e},isEmpty:function(e){return-1===e.indexOf(this.config.emptySelector)},onResponse:function(e){var n,t,i,r,a,d,f;for(n in e.ADTECH_MultiAd){if(i=e.ADTECH_MultiAd[n],r=i.Ad.AdCode,this.isEmpty(r)){f=null;for(t in this.config.placements)if(this.config.placements[t].id==parseInt(i.PlacementId,10)){f=this.config.placements[t],console.log(f,this.config.placements[f],parseInt(i.PlacementId,10));break}f&&(f.selector||(f.selector="#ad-"+f.name),a=new o(f.id,i.Ad.AdCode),c(f.selector,s(a.renderTo,a),this.onElementNotFound))}d=null}},onElementNotFound:function(){console.log("No container found")},load:function(e){var n,t=[];"undefined"!=typeof e?"undefined"!=typeof e.id?(this.config.placements.push(e),e=[e]):"undefined"!=typeof e.length&&(this.config.placements=this.config.placements.concat(e)):e=this.config.placements;for(n in e)t.push(e[n].id);console.log("Where are you ads?",t),new i({jsonp:!0,url:(this.config.proxy||"..")+"/proxy.php?placements="+t.join(","),onLoad:s(function(e){console.log("Hello, i am ads and here i am"),this.onResponse.call(this,e)},this)})}}),n.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./create-iframe":4,"./request":5,"./utils":6}],4:[function(e,n){var t,o=e("./utils"),i=o.on,r=o.off,s=o.bind,c=o.attr,a=o.extend,d=o.nextTick,f=function(e,n){var o="";this.id=e,o+='<!doctype *><html><head><style>body { margin:0; )</style></head><body><div id="ad">',o+="<script>",o+=n,o+="</script>",o+="</div></body></html>",this.iframe=t?t.cloneNode():t=document.createElement("iframe"),this.renderIframeContents(e,o),i(this.iframe,"load",s(this.onLoad,this)),i(this.iframe,"load",s(this.resize,this))};a(f.prototype,{iframe:null,contentDocument:null,supportSrcDoc:function(){var e="srcdoc"in this.iframe;return this.supportSrcDoc=function(){return e},this.supportSrcDoc()},renderIframeContents:function(e,n){if(c(this.iframe,{id:e,scrolling:"no",allowfullscreen:"true",mozallowfullscreen:"true",webkitallowfullscreen:"true",frameborder:0}),this.supportSrcDoc())this.iframe.setAttribute("srcdoc",n),c(this.iframe,{srcdoc:n});else{var t=this.getContentDocument();t.open(),t.write(n),setTimeout(function(){t.close()},100),console.log("srcdoc missing, writing old school")}},renderTo:function(e){d(s(function(){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(this.iframe)},this))},getContentDocument:function(){return this.contentDocument||(this.contentDocument=this.iframe.contentDocument),this.contentDocument},container:function(){return this.iframe},remove:function(){console.log("Removing: #"+this.id),this.iframe.parentNode&&(r(this.iframe,"load",this.onLoad),r(this.iframe,"load",this.resize),this.iframe.parentNode.removeChild(this.iframe))},onLoad:function(){var e=this.getContentDocument();console.log("Loaded: #"+this.id),e.querySelector('[src*="blank_pix_house.gif"]')&&this.remove()},resize:function(){var e=this.getContentDocument();if(e){var n=e.documentElement,t=n.scrollHeight,o=n.scrollWidth;console.log("Resize: #"+this.id+" width:"+o+"px height:"+t+"px"),console.count("resize"),0===t||0===o?this.remove():c(this.iframe,{width:o,height:t})}else this.remove()}}),n.exports=f},{"./utils":6}],5:[function(e,n){(function(t){var o=e("./utils").bind,i=function(e){this.config=e,this.load()};i.prototype={ajax:function(){var e,n=this;e=window.XMLHttpRequest?new XMLHttpRequest:new t.ActiveXObject("MSXML2.XMLHTTP.3.0"),e.onreadystatechange=function(){4===e.readyState?n.config.onLoad&&n.config.onLoad.call(n,e.responseText):n.config.onError&&n.config.onError.call(n)},e.open(n.config.method||"GET",n.config.url,!0),e.send()},jsonp:function(){var e=document.createElement("script"),n=this.config.url,t=this.config.callback||"callback",i="jsonPCallback";n+=-1===n.indexOf("?")?"?":"&",n+=t+"="+i,window[i]=o(function(e){console.log(e),this.config.onLoad.call(this,e)},this),e.onerror=this.config.onError,e.src=n,document.body.appendChild(e)},load:function(){this.config.jsonp?this.jsonp():this.ajax()}},n.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":6}],6:[function(e,n){var t=function(e,n,o){(t=e.addEventListener?function(e,n,t){return e.addEventListener(n,t,!1)}:function(e,n,t){return e.attachEvent("on"+n,t)})(e,n,o)},o=function(e,n,t){(o=e.addEventListener?function(e,n,t){return e.removeEventListener(n,t)}:function(e,n,t){return e.dettachEvent("on"+n,t)})(e,n,t)},i=function(e,n){return e.bind?e.bind(n):function(e,n){return e.apply(n,arguments)}},r=function(e,n){for(var t in n)e.setAttribute(t,n[t])},s=function(){if(window.Promise){var e=Promise.resolve();return function(n){e.then(n)}}return window.setImmidiate?function(e){setImmidiate(e)}:function(e){setTimeout(e,0)}}(),c=function(e,n,t){var o=document.querySelector(e);o?n(o):"complete"!==document.readyState?s(function(){c(e,n,t)}):"function"==typeof t&&t()},a=function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e};n.exports={bind:i,attr:r,on:t,off:o,onElement:c,nextTick:s,extend:a}},{}]},{},[2,1]);