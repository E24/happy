!function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var f=i[s]={exports:{}};t[s][0].call(f.exports,function(e){var i=t[s][1][e];return o(i?i:e)},f,f.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e){(function(t){!function(e,t){var i=this;"function"==typeof define&&define.amd?define(e,function(){return i[e]=t()}):window[e]=t()}("happy",function(){var i=e("./create-iframe"),n=function(e){var i=this;this.config=e,this.request=window.XMLHttpRequest?new XMLHttpRequest:new t.ActiveXObject("MSXML2.XMLHTTP.3.0"),this.request.onreadystatechange=function(){4===i.request.readyState&&(console.log("Hello, i am ads and here i am"),i.onResponse.call(i,JSON.parse(i.request.responseText)))}};return n.prototype={onResponse:function(e){var t,n,o,r,s,a;for(t in e.ADTECH_MultiAd){if(n=e.ADTECH_MultiAd[t],o=n.Ad.AdCode,-1===o.indexOf(this.config.emptySelector)){for(a in this.config.placements)if(this.config.placements[a].id==parseInt(n.PlacementId,10)){a=this.config.placements[a],s=a.container||document.getElementById("ad-"+a.name);break}s?(r=new i(n.PlacementId,n.Ad.AdCode),r.renderTo(s)):console.log("No container found")}s=null}},init:function(){var e,t=[];for(e in this.config.placements)t.push(this.config.placements[e].id);console.log("Where are you ads?"),this.request.open("GET",(this.config.proxy||"..")+"/proxy.php?placements="+t.join(","),!0),this.request.send()}},n})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./create-iframe":2}],2:[function(e,t){var i=e("./utils").on,n=e("./utils").bind,o=e("./utils").attr,r=e("./utils").raf,s=function(e,t){var r="";this.id=e,r+='<!doctype *><html><head><style>body { margin:0; )</style></head><body><div id="ad">',r+="<script>",r+=t,r+="</script>",r+="</div></body></html>",this.iframe=document.createElement("iframe"),o(this.iframe,{id:e,scrolling:"no",frameborder:0}),"srcdoc"in this.iframe&&(this.iframe.setAttribute("srcdoc",r),o(this.iframe,{srcdoc:r})),"srcdoc"in this.iframe||(this.iframe.contentDocument.open(),this.iframe.contentDocument.write(r),setTimeout(n(function(){this.iframe.contentDocument.close()},this),100),console.log("srcdoc missing, writing old school")),i(this.iframe,"load",n(this.onLoad,this)),i(this.iframe,"load",n(this.resize,this))};s.prototype.renderTo=function(e){r(n(function(){e.appendChild(this.iframe)},this))},s.prototype.remove=function(){console.log("Removing: #"+this.id),this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe)},s.prototype.onLoad=function(){var e=this.iframe.contentDocument;console.log("Loaded: #"+this.id),e.querySelector('[src*="blank_pix_house.gif"]')&&this.remove()},s.prototype.resize=function(){var e=this.iframe.contentDocument;if(e){var t=e.documentElement,i=t.scrollHeight,n=t.scrollWidth;console.log("Resize: #"+this.id+" width:"+n+"px height:"+i+"px"),console.count("resize"),0===i||0===n?this.remove():o(this.iframe,{width:n,height:i})}else this.remove()},t.exports=s},{"./utils":3}],3:[function(e,t){var i=function(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},n=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},o=function(e,t){for(var i in t)e.setAttribute(i,t[i])},r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};t.exports={bind:n,attr:o,on:i,raf:r}},{}]},{},[1]);